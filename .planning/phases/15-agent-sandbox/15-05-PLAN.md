---
phase: 15-agent-sandbox
plan: 05
type: execute
wave: 4
depends_on: ["15-04"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can access /sandbox and see complete interface"
    - "User can write messages and receive agent responses"
    - "Debug panel shows tools, state, intent, and tokens"
    - "Session save/load works correctly"
    - "UI matches CONTEXT.md decisions (inverted theme, delays, etc.)"
  artifacts: []
  key_links: []
---

<objective>
Verify the complete Agent Sandbox functionality through human testing.

Purpose: Ensure all SAND-* requirements are met and the sandbox provides a production-like testing experience.
Output: Verification that sandbox is ready for use.
</objective>

<execution_context>
@/home/jose147/.claude/get-shit-done/workflows/execute-plan.md
@/home/jose147/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/15-agent-sandbox/15-CONTEXT.md
@.planning/ROADMAP.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Agent Sandbox UI with:
- Split-pane layout (chat 60% / debug 40%)
- Message bubbles with inverted theme
- Typing indicator with real delays
- Debug panel with 4 tabs (Tools, Estado, Intent, Tokens)
- Session management (New, Save, Load)
- Sidebar navigation link
  </what-built>
  <how-to-verify>
1. Ensure server is running on port 3020
2. Navigate to http://localhost:3020/sandbox

**Layout verification:**
- [ ] Page loads with split-pane layout
- [ ] Chat panel on left (~60%), debug panel on right (~40%)
- [ ] Panels are resizable by dragging the divider
- [ ] Header shows agent selector dropdown
- [ ] Header shows token counter and message count

**Chat functionality:**
- [ ] Type "hola" and press Enter
- [ ] User message appears on RIGHT side with primary color
- [ ] Typing indicator appears while processing
- [ ] Agent response appears on LEFT side with muted color
- [ ] Delay between messages is 2-6 seconds (realistic)
- [ ] Timestamps visible in HH:MM:SS format

**Debug panel:**
- [ ] Click "Tools" tab - shows tool executions (may be empty)
- [ ] Click "Estado" tab - shows editable JSON with current state
- [ ] Click "Intent" tab - shows detected intent with confidence bar
- [ ] Click "Tokens" tab - shows per-turn and cumulative tokens
- [ ] Try editing a value in Estado tab - change applies

**Session management:**
- [ ] Click "Guardar" - dialog prompts for name
- [ ] Enter a name and save - toast confirms save
- [ ] Click "Cargar" - modal shows saved session
- [ ] Click on saved session to load it - messages restore
- [ ] Click "Nueva" - confirmation appears (if messages exist)
- [ ] Click "Resetear" - confirmation appears, clears on confirm

**Navigation:**
- [ ] Sidebar shows "Sandbox" link (with Bot icon)
- [ ] Clicking sidebar link navigates to /sandbox

**Requirements check (from ROADMAP.md):**
- [ ] SAND-01: Usuario puede acceder a /sandbox desde navegacion (sidebar)
- [ ] SAND-02: Usuario puede seleccionar agente a probar (dropdown)
- [ ] SAND-03: Usuario puede escribir mensajes como "cliente" (input)
- [ ] SAND-04: Sistema muestra respuestas del agente en tiempo real (bubbles)
- [ ] SAND-05: Sistema muestra tools ejecutados (Tools tab)
- [ ] SAND-06: Sistema muestra estado actual (Estado tab with JSON)
- [ ] SAND-07: Usuario puede resetear sesion (Resetear + Nueva buttons)
- [ ] SAND-08: Sesiones se guardan para revision (Guardar/Cargar)
  </how-to-verify>
  <resume-signal>
Type "approved" if all checks pass, or describe any issues found.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification of all functionality listed above.
</verification>

<success_criteria>
All SAND-* requirements verified as working:
- SAND-01 through SAND-08 pass
- UI matches CONTEXT.md decisions
- No blocking errors or crashes
</success_criteria>

<output>
After completion, create `.planning/phases/15-agent-sandbox/15-05-SUMMARY.md`
</output>
