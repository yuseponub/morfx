---
phase: 19-ai-automation-builder
plan: 10
type: execute
wave: 6
depends_on: ["19-07", "19-08", "19-09"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User describes automation in natural language and the agent creates it"
    - "Agent validates resources and warns about missing ones (does NOT auto-create)"
    - "Agent shows preview diagram before creating/modifying"
    - "Created automations are disabled by default"
    - "Created automations are editable manually after creation"
    - "Agent can modify existing automations by instruction"
    - "System validates automations before activating (cycle detection, resource check)"
    - "Agent can explain existing automations in simple language"
    - "User can see past builder sessions and resume them"
    - "Multi-automation sessions work (create several in one chat)"
  artifacts: []
  key_links: []
---

<objective>
Verify all Phase 19 success criteria through human testing. Push to Vercel and test the complete AI Builder flow end-to-end.

Purpose: Final verification that all phase goals are met before marking Phase 19 complete.
Output: Verified working AI Builder in production.
</objective>

<execution_context>
@/home/jose147/.claude/get-shit-done/workflows/execute-plan.md
@/home/jose147/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: TypeScript compilation and build verification</name>
  <files></files>
  <action>
    1. Run `npx tsc --noEmit` — fix any TypeScript errors
    2. Run `npm run build` — fix any build errors
    3. Verify no warnings about missing imports or unused variables
    4. Push all changes to Vercel:
       ```bash
       git add -A
       git commit -m "feat(19): AI Automation Builder — complete implementation"
       git push origin main
       ```
    5. Wait for Vercel deployment to complete
  </action>
  <verify>
    - `npx tsc --noEmit` passes with 0 errors
    - `npm run build` succeeds
    - Vercel deployment succeeds
  </verify>
  <done>
    - Clean TypeScript compilation
    - Successful production build
    - Deployed to Vercel
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete AI Automation Builder with:
    - Chat interface at /automatizaciones/builder
    - Natural language automation creation
    - Visual flowchart preview with validation
    - Confirmation workflow before creation
    - Session persistence and history
    - Modification and cloning support
    - Navigation from automation list page
  </what-built>
  <how-to-verify>
    Test each success criterion:

    **SC1: Create automation from natural language**
    1. Go to /automatizaciones/builder
    2. Type: "Cuando un pedido llegue a la etapa Confirmado, asigna el tag VIP al contacto"
    3. Agent should ask about pipeline/stage/tag if needed, then show a flowchart preview
    4. Confirm creation — verify automation appears at /automatizaciones (disabled)

    **SC2: Resource validation**
    1. Type: "Cuando se asigne el tag InexistenteXYZ, envia un template llamado NoExiste"
    2. Agent should warn that the tag and template don't exist (red markers on diagram)
    3. Agent should NOT create them automatically

    **SC3: Preview before creation**
    1. Every creation attempt should show a flowchart diagram first
    2. Diagram should have colored nodes (purple trigger, amber condition, blue action)
    3. Buttons "Crear automatizacion" and "Modificar" should appear below diagram

    **SC4: Created automations disabled**
    1. After creating via builder, go to /automatizaciones
    2. The new automation should be toggled OFF
    3. The agent's message should say to activate it manually

    **SC5: Manually editable after creation**
    1. Click the automation created by the builder
    2. Edit it with the manual wizard
    3. Save — should work normally

    **SC6: Modify existing automation**
    1. In the builder chat, say: "Muestrame mis automatizaciones"
    2. Pick one to modify: "Modificale la accion para que tambien cree una tarea"
    3. Agent should show updated preview, confirm, then update

    **SC7: Validation (cycles)**
    1. Try to create an automation that would form a cycle with existing ones
    2. Agent should detect and block it

    **SC8: Multiple automations in one session**
    1. After creating one, say: "Ahora haz otra: cuando se cree un contacto, asigna el tag Nuevo"
    2. Should create a second automation in the same chat session

    **SC9: Session history**
    1. Leave the builder, come back
    2. Click "Historial" — previous session should appear
    3. Click to load it — conversation restored

    **SC10: Agent explains automations**
    1. Say: "Explicame la automatizacion [name]"
    2. Agent should show diagram and natural language explanation
  </how-to-verify>
  <resume-signal>Type "approved" if all criteria pass, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
All 10 success criteria verified by human testing in production.
</verification>

<success_criteria>
Phase 19 AI Automation Builder is fully functional and verified in production. All 7 roadmap success criteria met (adjusted per CONTEXT.md decisions: warn-only for missing resources, no auto-create).
</success_criteria>

<output>
After completion, create:
1. `.planning/phases/19-ai-automation-builder/19-10-SUMMARY.md`
2. `.planning/phases/19-ai-automation-builder/19-LEARNINGS.md`
3. Update `.planning/STATE.md` with Phase 19 complete
</output>
